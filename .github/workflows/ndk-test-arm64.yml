name: ndk-test-arm64
on:
  push:
    branches:
      - main
jobs:
  ndk-build-arm64:
    name: Android NDK arm64-v8a Build Only
    runs-on: macos-26
    steps:
      - name: Build Hello World for arm64-v8a
        run: |
          cat > hello.c << 'EOF'
          #include <stdio.h>
          int main() {
              printf("Hello from Android arm64-v8a!\n");
              return 0;
          }
          EOF
          $ANDROID_NDK_ROOT/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android29-clang hello.c -o hello-arm64
          file hello-arm64
          echo "âœ“ ARM64-v8a binary built successfully"

      - name: Upload arm64 binary
        uses: actions/upload-artifact@v4
        with:
          name: hello-arm64-v8a
          path: hello-arm64
