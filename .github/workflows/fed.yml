name: fedora

on:
  push:
    branches: main

jobs:
  test:
    runs-on: ubuntu-latest
    container: "fedora:latest"
    steps:
      - name: checkout
        uses: actions/checkout@v4
        with:
          repository: iowarp/cte-hermes-shm
          ref: dev
      - name: install
        run: |
          dnf install -y \
              bzip2 curl file gcc-c++ gcc gcc-gfortran git gzip \
              make patch unzip which xz python3 python3-devel tree \
              cmake bison bison-devel libstdc++-static catch2-devel \
             cereal-devel openmpi-devel libgomp
      - name: test
        run: |
          ls
          mkdir build
          cd build
          cmake ..
