<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HDF5: Fortran VFD (H5VFD) Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hdf5doxy.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="hdf5doxy.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="hdf5_navtree_hacks.js"></script>
<div style="background:#FFDDDD;font-size:120%;text-align:center;margin:0;padding:5px">Help us improve by taking our short survey: <a href="https://www.hdfgroup.org/website-survey/">https://www.hdfgroup.org/website-survey/</a></div>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeTabs.init()
</script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-57FMZK4S7X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-57FMZK4S7X');
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="HDFG-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">HDF5<span id="projectnumber">&#160;Last Updated on 2026-02-28</span>
   </div>
   <div id="projectbrief">The HDF5 Field Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="_getting_started.html"><span>Getting&#160;started</span></a></li>
      <li><a href="_u_g.html"><span>User&#160;Guide</span></a></li>
      <li><a href="_r_m.html"><span>Reference&#160;Manual</span></a></li>
      <li><a href="_cookbook.html"><span>Cookbook</span></a></li>
      <li><a href="_t_n.html"><span>Technical&#160;Notes</span></a></li>
      <li><a href="_r_f_c.html"><span>RFCs</span></a></li>
      <li><a href="_s_p_e_c.html"><span>Specifications</span></a></li>
      <li><a href="_g_l_s.html"><span>Glossary</span></a></li>
      <li><a href="_f_t_s.html"><span>Full-Text&#160;Search</span></a></li>
      <li><a href="_about.html"><span>About</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___f_h5_v_f_d.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">Fortran VFD (H5VFD) Interface</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___h5_v_f_d.html">Virtual File Driver Features</a>, C-API </dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:namespaceh5fd" id="r_namespaceh5fd"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceh5fd.html">h5fd</a></td></tr>
<tr class="memdesc:namespaceh5fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This module contains Fortran interfaces for H5VFD (Virtual File Driver) functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ga6dcf085c6a97d0e9aeb5bf53e17221ec" id="r_ga6dcf085c6a97d0e9aeb5bf53e17221ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">subroutine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_h5_v_f_d.html#ga6dcf085c6a97d0e9aeb5bf53e17221ec">h5fdsubfiling_get_file_mapping_f</a> (<a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">file_id</a>, <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">filenames</a>, <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">num_files</a>, <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">hdferr</a>)</td></tr>
<tr class="memdesc:ga6dcf085c6a97d0e9aeb5bf53e17221ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the list of subfile names for a HDF5 file for the subfiling VFD.  <br /></td></tr>
<tr class="separator:ga6dcf085c6a97d0e9aeb5bf53e17221ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ga6dcf085c6a97d0e9aeb5bf53e17221ec" name="ga6dcf085c6a97d0e9aeb5bf53e17221ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6dcf085c6a97d0e9aeb5bf53e17221ec">&#9670;&#160;</a></span>h5fdsubfiling_get_file_mapping_f()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">subroutine</a> h5fdsubfiling_get_file_mapping_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">integer</a>(<a class="el" href="_h5_ipublic_8h.html#a0045db7ff9c22ad35db6ae91662e1943">hid_t</a>), <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">intent</a>(in)&#160;</td>
          <td class="paramname"><em>file_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">character</a>(len=:), <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">dimension</a>(:), <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">intent</a>(<a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">out</a>), <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">allocatable</a>&#160;</td>
          <td class="paramname"><em>filenames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">integer</a>(size_t), <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">intent</a>(<a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">out</a>)&#160;</td>
          <td class="paramname"><em>num_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">integer</a>, <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">intent</a>(<a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">out</a>)&#160;</td>
          <td class="paramname"><em>hdferr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the list of subfile names for a HDF5 file for the subfiling VFD. </p>
<p>This function retrieves the names of all subfiles associated with an HDF5 file that uses the subfiling Virtual File Driver (VFD). The subfiling VFD distributes file data across multiple subfiles to improve parallel I/O performance on shared file systems.</p>
<p>The returned filenames correspond to the physical subfiles stored on the file system that collectively make up the logical HDF5 file. This information is useful for:</p><ul>
<li>File management and backup operations</li>
<li>Understanding the physical storage layout</li>
<li>Tools like h5fuse for recombining subfiles</li>
<li>Debugging subfiling configurations</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_id</td><td>[in] HDF5 file identifier for a file using the subfiling VFD </td></tr>
    <tr><td class="paramname">filenames</td><td>[out] Allocatable array of subfile names. Memory is automatically allocated by the function and must be deallocated by the caller. See <b>Compiler Compatibility</b> note below. </td></tr>
    <tr><td class="paramname">num_files</td><td>[out] Number of subfiles in the filenames array </td></tr>
    <tr><td class="paramname">hdferr</td><td>[out] Error code: <ul>
<li>0 on success </li>
<li>-1 on failure</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>2.0.0</dd></dl>
<dl class="section note"><dt>Note</dt><dd><b>Memory Management</b>: The filenames array is automatically allocated. The caller is responsible for deallocating when it is no longer needed: <div class="fragment"><div class="line"><span class="keyword">DEALLOCATE</span>(filenames)</div>
</div><!-- fragment --></dd>
<dd>
<b>Compiler Compatibility</b>:<ul>
<li>With H5_FORTRAN_HAVE_CHAR_ALLOC: Variable-length character strings (Fortran 2003+)</li>
<li>Without H5_FORTRAN_HAVE_CHAR_ALLOC: Fixed-length 8192 character strings (older compilers), filenames longer than 8192 characters will cause the function to fail with hdferr = -1. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function will not be accessible if support for the subfiling VFD is unavailable or disabled. </dd></dl>
<dl class="section note"><dt>Note</dt><dd><b>Optimized Allocation</b>: The function uses knowledge of the subfiling filename template to estimate optimal string lengths, typically reducing memory usage compared to the maximum 8192 character limit. Subfile names follow the pattern: <code>basename.subfile_&lt;inode&gt;_&lt;index&gt;_of_&lt;total&gt;</code> </dd></dl>
<dl class="section user"><dt>Example Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">USE </span><a class="code hl_namespace" href="namespacehdf5.html">hdf5</a></div>
<div class="line"><span class="keywordtype">IMPLICIT NONE</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">INTEGER(HID_T)</span> :: file_id</div>
<div class="line"><span class="keywordtype">CHARACTER(LEN=:)</span>, <span class="keywordtype">ALLOCATABLE</span>, <span class="keywordtype">DIMENSION(:)</span> :: subfile_names</div>
<div class="line"><span class="keywordtype">INTEGER(SIZE_T)</span> :: num_subfiles</div>
<div class="line"><span class="keywordtype">INTEGER</span> :: hdferr</div>
<div class="line"><span class="keywordtype">INTEGER</span> :: i</div>
<div class="line"> </div>
<div class="line"><span class="comment">! Open file with subfiling VFD (file_id setup not shown)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">! Get subfile mapping</span></div>
<div class="line"><span class="keyword">CALL </span>h5fdsubfiling_get_file_mapping_f(file_id, subfile_names, num_subfiles, hdferr)</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">IF</span> (hdferr == 0) <span class="keywordflow">THEN</span></div>
<div class="line">  print *, <span class="stringliteral">&#39;Found&#39;</span>, num_subfiles, <span class="stringliteral">&#39;subfiles:&#39;</span></div>
<div class="line">  <span class="keywordflow">DO</span> i = 1, num_subfiles</div>
<div class="line">    print *, <span class="stringliteral">&#39;  &#39;</span>, trim(subfile_names(i))</div>
<div class="line"><span class="keywordflow">  END DO</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">! Clean up</span></div>
<div class="line">  <span class="keyword">DEALLOCATE</span>(subfile_names)</div>
<div class="line"><span class="keywordflow">ELSE</span></div>
<div class="line">  print *, <span class="stringliteral">&#39;Error getting file mapping:&#39;</span>, hdferr</div>
<div class="line"><span class="keyword">END </span>IF</div>
<div class="ttc" id="anamespacehdf5_html"><div class="ttname"><a href="namespacehdf5.html">hdf5</a></div><div class="ttdef"><b>Definition</b> HDF5.F90:26</div></div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___h5_v_f_d.html#ga01c9bf33d6c925f006684acfa9b9dff7" title="Retrieve the subfile names for an HDF5 file using the subfiling VFD.">H5FDsubfiling_get_file_mapping()</a> (<a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">C</a> <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">API</a>) </dd>
<dd>
<a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">H5Pset_fapl_subfiling_f()</a> <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">for</a> <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">setting</a> <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">up</a> <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">subfiling</a> <a class="el" href="h5repack_8h.html#a314b5651a0aa5175d64605dbc83e094e">VFD</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
